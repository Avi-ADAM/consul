@mixin background-with-text-contrast($color, $check-invert-selection: true) {
  background-color: $color;
  color: color-pick-contrast($color);

  @if $check-invert-selection {
    @include inverted-selection($color);
  }
}

@mixin brand-background {
  @include background-with-text-contrast($brand);
}

@mixin brand-text {
  @include normal-selection;
  color: $brand;
}

@mixin body-colors {
  background-color: $body-background;
  color: $body-font-color;
}

@mixin normal-selection {

  &::selection,
  *::selection {
    @include background-with-text-contrast($brand, $check-invert-selection: false);
  }
}

@mixin inverted-selection($background-color) {
  @if color-contrast($background-color, $brand) < 4.5 {
    &::selection,
    *::selection {
      background-color: rgba(color-pick-contrast($brand), 0.99);
      color: $brand;
    }
  }
}

%brand-background {
  @include brand-background;
}

%brand-text {
  @include brand-text;
}

%body-colors {
  @include body-colors;
}
